<!doctype html>
<html lang="ja">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>3Dscan_measure v1.7 スタートアップガイド</title>
<meta name="description" content="3D アバター／衣装の断面可視化・計測ツール v1.7 用のミニマルガイド。UI説明・ツールバー機能一覧・基本ワークフローを1ページで。">
<style>
:root{
  --bg:#0b0c0f; --panel:#11151c; --card:#10141b; --ink:#ECF2F8; --mut:#A9B6C8;
  --link:#7cd1ff; --accent:#ffd166; --good:#35d07f; --warn:#ffb31a; --line:#2a3b54;
  --tag-bg:#182131; --tag-bd:#3b5170; --tag-ink:#DDE7F3;
}
*{box-sizing:border-box}
html,body{height:100%;margin:0;background:var(--bg);color:var(--ink);font-family:system-ui,"Noto Sans JP",Segoe UI,Roboto,Helvetica,Arial,sans-serif}
body{font-size:16px;line-height:1.7}
a{color:var(--link);text-decoration:none} a:hover{text-decoration:underline}
.container{max-width:1040px;margin:0 auto;padding:28px 24px 40px}
.header{display:flex;gap:18px;align-items:center;justify-content:space-between;margin-bottom:20px}
.h-left{display:flex;gap:16px;align-items:center}
.logo{width:42px;height:42px;border-radius:12px;
  background:linear-gradient(135deg,#293347,#151922);
  display:grid;place-items:center;border:1px solid #20283a;box-shadow:0 6px 20px rgba(0,0,0,.25) inset, 0 2px 18px rgba(0,0,0,.25)}
.logo::after{content:"3D";font-weight:800;font-size:15px;color:#c7d6ef;letter-spacing:.3px}
.badge{display:inline-flex;align-items:center;gap:6px;padding:7px 12px;border:1px solid var(--line);
  border-radius:999px;background:rgba(20,25,33,.75);color:#cfe3ff;font-size:13px}
.badge small{color:var(--mut)}

h1{font-size:28px;line-height:1.25;margin:0 0 2px}
.lead{color:var(--mut);font-size:15px;margin:0}

hr{border:none;border-top:1px solid #1f2633;margin:24px 0}

.grid{display:grid;grid-template-columns:1fr;gap:20px;margin-top:6px}
@media(min-width:860px){ .grid{grid-template-columns:1fr 1fr} }

.card{background:var(--card);border:1px solid var(--line);border-radius:16px;padding:20px 18px 18px;box-shadow:0 10px 28px rgba(0,0,0,.25)}
.card h2{font-size:20px;letter-spacing:.2px;margin:0 0 12px}
.card h3{font-size:16px;margin:18px 0 10px;color:#d9ecff}
.card p{margin:10px 0;color:#e5edf7}
.kbd{display:inline-block;padding:3px 7px;border:1px solid #2b3a52;border-bottom-width:2px;border-radius:7px;background:#0f131a;color:#dfe6f5;font-weight:700;font-size:12px}

.tag{
  display:inline-flex;align-items:center;gap:8px;
  padding:5px 12px;border:1px solid var(--tag-bd);
  border-radius:999px;background:var(--tag-bg);color:var(--tag-ink);
  font-size:13px;font-weight:600;letter-spacing:.1px;
  box-shadow:0 1px 0 rgba(255,255,255,.035) inset, 0 2px 10px rgba(0,0,0,.25);
}
.tag-green{color:#ccffe2;border-color:#2a5a42;background:#123022}
.tag-blue{color:#d8f0ff;border-color:#3b6a8e;background:#0f2332}
.tag-amber{color:#ffe6b8;border-color:#6a4b14;background:#2b200e}

.ul{margin:10px 0 0 22px;padding:0} .ul li{margin:8px 0 0 0}
.ref-table{width:100%;border-collapse:separate;border-spacing:0 10px}
.ref-table th,.ref-table td{font-size:15px;vertical-align:top}
.ref-table th{white-space:nowrap;color:#cfe3ff;padding-right:14px}

.row{display:flex;flex-wrap:wrap;gap:10px;align-items:center;margin:8px 0}
.code{font-family:ui-monospace,SFMono-Regular,Consolas,"Liberation Mono",Menlo,monospace;background:#0f131a;border:1px solid #2b3a52;border-radius:8px;padding:9px 12px;color:#dfe6f5;font-size:13px}
.note{font-size:13px;color:#a9b6c8}
.callout{background:#0f1c26;border:1px solid #2a4255;border-radius:14px;padding:12px 14px;color:#cfe9ff}

footer{margin-top:26px;color:#8fa1b9;font-size:12px;text-align:center;opacity:.9}
</style>
</head>
<body>
<div class="container">

  <div class="header">
    <div class="h-left">
      <div class="logo"></div>
      <div>
        <h1>3Dscan_measure v1.7 スタートアップガイド</h1>
        <p class="lead">「断面の可視化」と「比較用エクスポート」を、最小UIで。マウスだけで運用できます。</p>
      </div>
    </div>
    <div>
      <span class="badge">Version v1.7</span>
      <span class="badge">Seed <small>2025-09-28-guide-v17-001</small></span>
    </div>
  </div>

  <div class="grid">
    <section class="card">
      <h2>このツールでできること（要約）</h2>
      <ul class="ul">
        <li>3Dアバター／衣装から<strong>任意断面</strong>を抽出（水平／縦割りX／縦割りZ）</li>
        <li><strong>周長・幅(U)・厚み(V)・2点距離</strong>を即時計測（Shiftで軸ロック）</li>
        <li>ラベルは<strong>ドラッグで配置</strong>（ダブルクリックで原点に戻す）</li>
        <li><span class="tag tag-green">Capture</span> = 画面PNG保存＋<strong>計測ログ記録</strong>（CSV書き出し）</li>
        <li><span class="tag tag-amber">Export @Scale</span> = <strong>オルソ＋固定スケール</strong>でPNG出力（ズーム非依存）</li>
        <li>メッシュの<strong>ワイヤ色</strong>／断面ラインの<strong>通常色・選択色</strong>を即変更</li>
      </ul>
      <div class="callout" style="margin-top:10px">
        <strong>ポイント：</strong>比較用のPNGは <span class="tag tag-amber">Export @Scale</span> を使うと縮尺が揃います（画面ズームの影響なし）。
      </div>
    </section>

    <section class="card">
      <h2>画面と基本操作</h2>
      <table class="ref-table">
        <tr><th>カメラ</th><td>左ドラッグ=回転／右ドラッグ=パン／ホイール=ズーム</td></tr>
        <tr><th>断面選択</th><td>断面ラインをクリック（<span class="tag tag-blue">選択色</span>に変化）</td></tr>
        <tr><th>2点距離</th><td>選択断面上を2クリック。<span class="kbd">Shift</span>でU/V軸にロック</td></tr>
        <tr><th>ラベル</th><td>周長・幅/厚みのラベルをドラッグで移動／ダブルクリックでリセット</td></tr>
      </table>
      <p class="note">※ 断面は <span class="tag">H</span> 水平／<span class="tag">VX</span> 縦割りX／<span class="tag">VZ</span> 縦割りZ の3種。</p>
    </section>
  </div>

  <section class="card">
    <h2>ツールバーの機能（主要項目だけ）</h2>

    <h3>1) ファイル・姿勢・断面タイプ</h3>
    <div class="row">
      <span class="tag">Open</span><span class="tag">Rotate X/Y/Z</span><span class="tag">Reset Rot</span>
      <span class="tag">Section: H / VX / VZ</span><span class="tag">Align X/Y/Z</span>
    </div>
    <p>向きが合ったら「Section」を選択。<strong>Align</strong>は断面法線を各軸にスナップ。</p>

    <h3>2) 床基準 / 中心基準の数値入力</h3>
    <div class="row">
      <span class="tag">Ground: 底面検出</span><span class="tag">Height(mm)</span><span class="tag">中心から距離(mm)</span><span class="tag">適用</span>
    </div>
    <p>水平は「底面（BBox MinY）」からの高さで固定。縦割りは「オブジェクト中心」からの距離で固定。</p>

    <h3>3) 表示と計測</h3>
    <div class="row">
      <span class="tag">View ⟂</span><span class="tag">Flip</span><span class="tag">Solo View</span>
      <span class="tag">Caliper</span><span class="tag">Snap: AUTO/U/V</span>
    </div>
    <p>正対表示は <span class="tag">View ⟂</span>。<span class="tag">Caliper</span>で最大幅U・最大厚みVを自動抽出。</p>

    <h3>4) 見やすさ</h3>
    <div class="row">
      <span class="tag">Wireframe ON/OFF</span><span class="tag">Wire color</span>
      <span class="tag">Section line</span><span class="tag">Selected</span>
    </div>
    <p>暗背景で沈みにくい色へ即変更可能。色設定はブラウザに保存。</p>

    <h3>5) 保存・ログ・比較</h3>
    <div class="row">
      <span class="tag tag-green">Capture</span><span class="tag">Save PNG</span>
      <span class="tag tag-amber">Export @Scale</span><span class="tag">Log CSV</span>
    </div>
    <p><span class="tag tag-green">Capture</span>は「画面PNG＋計測ログ記録」。<span class="tag tag-amber">Export @Scale</span>は「オルソ＋固定スケール（mm/px）」で縮尺統一のPNG出力。</p>
  </section>

  <div class="grid">
    <section class="card">
      <h2>基本ワークフロー（水平＝床基準）</h2>
      <ol class="ul">
        <li>モデル読込 → <span class="tag">Rotate</span> で正位置</li>
        <li><span class="tag">Section: H</span> → <span class="tag">底面検出</span></li>
        <li><span class="tag">Height(mm)</span> に数値（例：<strong>900</strong>）→ <span class="tag">適用</span></li>
        <li><span class="tag">View ⟂</span> → <span class="tag">Caliper</span> → <span class="tag">Solo View</span></li>
        <li><span class="tag tag-green">Capture</span>（PNG＋ログ）/ <span class="tag tag-amber">Export @Scale</span>（比較用）</li>
      </ol>
      <p class="note">腰の標準比較なら 900mm 目安。スケール比較は Export @Scale を使用。</p>
    </section>

    <section class="card">
      <h2>基本ワークフロー（縦割り＝中心基準）</h2>
      <ol class="ul">
        <li><span class="tag">Section: VX</span>（左右） or <span class="tag">VZ</span>（前後）</li>
        <li><span class="tag">中心から距離(mm)</span> に数値（<strong>0</strong> で中央）→ <span class="tag">適用</span></li>
        <li><span class="tag">View ⟂</span> → 必要に応じて <span class="tag">Caliper</span></li>
        <li><span class="tag tag-amber">Export @Scale</span>（同縮尺PNG出力）</li>
      </ol>
    </section>
  </div>

  <section class="card">
    <h2>比較用エクスポートのプリセット例</h2>
    <div class="row">
      <span class="tag tag-amber">Export @Scale</span>
      <span class="tag">mm/px: 1.00</span>
      <span class="tag">W×H: 1200×1200 px</span>
      <span class="tag">Margin: 80 px</span>
    </div>
    <p>案件間でこの数値を固定すれば、出力PNGの縮尺が完全一致。画面ズームの影響は受けません。</p>
    <p class="note">断面が枠からはみ出す場合：W/Hを上げるか、mm/pxを大きく（縮小方向）に。</p>
  </section>

  <section class="card">
    <h2>単位・ズーム依存性・ラベル</h2>
    <ul class="ul">
      <li><strong>Model unit</strong> は OBJ=mm、GLB/GLTF=cm を起点に確認（表示単位は自由）</li>
      <li><strong>Export @Scale</strong> は画面のズーム/パンに<strong>非依存</strong>（固定スケールで出力）</li>
      <li>ラベル（周長／幅・厚み）は<strong>ドラッグ移動</strong>、ダブルクリックで初期位置へ</li>
    </ul>
  </section>

  <footer>
    © 2025 3Dscan_measure v1.7 Guide — Minimal & Focused. / 配布用にこのHTMLを同梱してください。
  </footer>
</div>
</body>
</html>
